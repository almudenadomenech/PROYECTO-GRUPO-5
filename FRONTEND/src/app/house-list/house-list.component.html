<div class="container ">
  <div class="row ">
    <div class="col-12">

      @if (showConfirmMessage) {
        <ngb-alert type="warning" [dismissible]="false" class="mt-4 mb-3" style="min-height: 200px">
          <p>La casa se ha borrado correctamente</p>

          <div style="text-align: center;">
            <i class="bi bi-check-lg" style="font-size: 4em;"></i>
        </div>

          Para cualquier duda contacte con soporte&commat;casaRural.com
        </ngb-alert>
        <button class="w-100 btn btn-outline-naranaja btn-lg" style="margin-bottom: 20px;" routerLink="/home">Volver</button>


      }

      <div class="album py-5 bg-white">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 g-3">
              @for (house of houses; track house) {
                <div class="col">

                  <div class="card shadow-sm">
                  
                    <a [routerLink]="['/houses', house.id, 'detail']">
                      @if(house.photoUrl){
                      <img class="bd-placeholder-img card-img-top" [src]="'http://localhost:3000/uploads/' + house.photoUrl"  >
                      } @else {
                        <img class="bd-placeholder-img card-img-top" src="/assets/img/default.jpg">

                      }
                    </a>
                      <div class="card-body">
                        <p class="card-text"> <strong>{{house.title}}</strong>
                          <br>
                          
                          
                          <ngb-rating [rate]="4" style="color:#f57d00;"></ngb-rating> 
                          <br>
                          <br>
                          <i class="bi bi-houses"></i> Casa Rural Completa
                          <br>
                          <i class="bi bi-people-fill"></i>  {{house.places}}  plazas
                          <br>
                          <i class="bi bi-geo-alt-fill"></i> {{house.destination}}
                          <br>
                          <br>
                          Desde {{house.price}}€ /noche
                        </p>
                        
                        
    
                        @if (isAdmin) {
                        <button type="button" class="btn btn-outline-naranaja btn-house-list py-2" [routerLink]="['/houses', house.id, 'update']">
                          Editar</button>
                          }

                        @if(isAdmin){
                        <button class="btn btn-outline-naranaja btn-house-list py-2 ms-1 "(click)="openModal(content, house)"> Borrar</button>
                        }
    
    
    
                        <div class="d-flex justify-content-between align-items-center">
    
                      </div>
                    </div>
                  </div>


                     
                      <div class="d-flex justify-content-between align-items-center">
                        
                        
                      </div>
                    </div>
              
          }
          </div>
        </div>
      </div>
      <ng-template #content let-modal>
        <div class="modal-header">
          <h4 class="modal-title">¿Desea borrar esta casa?</h4>
          <button type="button" class="btn-close" aria-label="Cancelar" (click)="modal.dismiss('Cancelar')"></button>
        </div>
        <div class="modal-body">
          <p>Para continuar pulse aceptar</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Aceptar')">Aceptar</button>
          <button type="button" class="btn btn-danger" (click)="modal.close('Cancelar')">Cancelar</button>
        </div>
      </ng-template>






















     
